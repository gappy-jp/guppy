angular.module("snap",[]),angular.module("snap").directive("snapClose",["$rootScope","snapRemote",function(a,b){"use strict";return{restrict:"A",link:function(c,d){d.bind("click",function(){b.close(),a.$digest()})}}}]),angular.module("snap").directive("snapContent",["snapRemote",function(a){"use strict";return{restrict:"AE",link:function(b,c,d){c.addClass("snap-content");var e={element:c[0]},f=d.snapId;f&&(f=b.$eval(d.snapId)),angular.isDefined(d.snapOptions)&&d.snapOptions&&angular.extend(e,b.$eval(d.snapOptions)),a.register(new window.Snap(e),f),angular.isDefined(d.snapOptions)&&d.snapOptions&&b.$watch(d.snapOptions,function(b){a.getSnapper().then(function(a){a.settings(b)})},!0),b.$on("$destroy",function(){a.unregister(f)})}}}]),angular.module("snap").directive("snapDrawer",function(){"use strict";return{restrict:"AE",link:function(a,b,c){b.addClass("snap-drawer");var d=b.parent(),e=!0;for("right"===c.snapDrawer?b.addClass("snap-drawer-right"):b.addClass("snap-drawer-left");d.length;)d.hasClass("snap-drawers")&&(e=!1),d=d.parent();e&&b.wrap('<div class="snap-drawers" />')}}}),angular.module("snap").directive("snapDrawers",function(){"use strict";return{restrict:"AE",link:function(a,b){b.addClass("snap-drawers")}}}),angular.module("snap").directive("snapToggle",["$rootScope","snapRemote",function(a,b){"use strict";return{restrict:"A",link:function(c,d,e){var f=e.snapId,g=e.snapToggle||"left";f&&(f=c.$eval(f)),d.bind("click",function(){b.toggle(g,f),a.$digest()})}}}]),angular.module("snap").factory("snapRemote",["$q",function(a){"use strict";var b,c,d={},e="__DEFAULT_SNAPPER_ID__",f={};return f.getSnapper=function(a){return a=a||e,d.hasOwnProperty(a)||b(a),d[a].deferred.promise},f.register=function(a,f){f=f||e,d.hasOwnProperty(f)||b(f),d[f].isResolved&&b(f),c(a,f)},f.unregister=function(a){a=a||e,d.hasOwnProperty(a)&&delete d[a]},f.toggle=function(a,b){b=b||e,f.getSnapper(b).then(function(c){a===c.state().state?f.close(b):f.open(a,b)})},f.open=function(a,b){b=b||e,f.getSnapper(b).then(function(b){b.open(a)})},f.close=function(a){a=a||e,f.getSnapper(a).then(function(a){a.close()})},b=function(b){d[b]={deferred:a.defer(),isResolved:!1}},c=function(a,b){d[b].deferred.resolve(a),d[b].isResolved=!0},f}]);